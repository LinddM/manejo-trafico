<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Simulador de transito - PRUEBA</title>

    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,500,600,700" rel="stylesheet">
    <link rel="stylesheet" type="text/css" media="screen" href="css/main.css" />
    <script type="text/javascript" src="js/paper/paper-full.min.js"></script>
    <script type="text/javascript" src="js/paper/paper-core.min.js"></script>
    <script type="text/javascript">paper.install(window)</script>

    <script>var timeFrame = 1; var sim = true; var generationSpeed = 250;</script>
</head>

<body>
    <div class="info-box">
        <button onclick="fillProperties()">🔁</button>
        <table class="properties-table">
            <tr>
                <th>
                    Propiedad
                </th>
                <th>
                    Valor
                </th>
            </tr>
            <tr>
                <td>x</td>
                <td id="prop-x"></td>
            </tr>
            <tr>
                <td>y</td>
                <td id="prop-y"></td>
            </tr>
            <tr>
                <td>carriles</td>
                <td id="prop-lanes"></td>
            </tr>
            <tr>
                <td>carga</td>
                <td id="prop-load"></td>
            </tr>
            <tr>
                <td>semaforo</td>
                <td id="prop-traffilight"></td>
            </tr>

            <tr>
                <td>auto-generación</td>
                <td id="prop-live"></td>
            </tr>
        </table>
    </div>

    <span>Carriles: </span>
    <input min="1" max="10" value="2" id="lanes" type="range">
    <br><br>
    <!-- CANVAS AQUI -->
    <canvas oncontextmenu="return false;" id="map"></canvas>
    <!-- CANVAS AQUI -->

    <br><br>
    <input min="0" max="2600" value="2000" id="vehicleGenerationRange" type="range">
    <button id="auto-generate" onclick="autoGenerate()">🚙</button>

    <script>
        function simSwitch(obj){
            sim = !sim
            if (sim){
                obj.innerHTML = `🛑`
            } else {
                obj.innerHTML = `▶`
            }
        }
    </script>

    <span class="verticalLines"></span>
    <input style="margin-right: -10px; border-top-right-radius: 0; border-bottom-right-radius: 0; transform: translateY(2px);" id="timeframe" min="1" max="10" value="1" type="number" placeholder="Velocidad">
    <button style="margin-left: -2px; transform: translateX(0)" class="primary" onclick="timeFrame = document.getElementById('timeframe').value">Fijar velocidad</button>
    <span class="verticalLines"></span>
    
    <button class="danger" onclick="simSwitch(this)">🛑</button>

    <span class="verticalLines"></span>

    <button id="traffic-light" onclick="addTrafficLight()">🚦</button>

    <script src="dist/Trray.js"></script>
    <script src="dist/TrafficLight.js"></script>
    <script src="dist/Streets.js"></script>
    <script src="dist/canvas.js"></script>

    <script src="dist/efficiency.js"></script>

    <script src="dist/Vehicle.js"></script>
    <script src="dist/transitMaker.js"></script>
</body>

</html>